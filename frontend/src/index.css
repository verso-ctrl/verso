@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    @apply scroll-smooth;
  }
  
  body {
    @apply bg-cream-100 text-ink-900 font-sans antialiased;
    font-feature-settings: 'kern' 1, 'liga' 1;
  }
  
  .dark body {
    @apply bg-ink-950 text-cream-200;
  }

  /* Refined typography */
  h1, h2, h3, h4, h5, h6 {
    @apply font-serif font-semibold tracking-tight;
  }

  /* Better focus states */
  :focus-visible {
    @apply outline-none ring-2 ring-primary-500 ring-offset-2 ring-offset-cream-100;
  }
  
  .dark :focus-visible {
    @apply ring-offset-ink-950;
  }

  /* Selection color */
  ::selection {
    @apply bg-primary-200 text-ink-900;
  }
  
  .dark ::selection {
    @apply bg-primary-800 text-cream-100;
  }
}

@layer components {
  /* Primary button - warm, inviting */
  .btn-primary {
    @apply bg-primary-600 text-white px-5 py-2.5 rounded-xl font-semibold 
           shadow-sm hover:bg-primary-700 hover:shadow-md
           active:scale-[0.98] active:shadow-sm
           transition-all duration-200 ease-out
           disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100;
  }
  
  /* Secondary button */
  .btn-secondary {
    @apply bg-cream-200 text-ink-800 px-5 py-2.5 rounded-xl font-semibold 
           border border-cream-400/50
           hover:bg-cream-300 hover:border-cream-400
           active:scale-[0.98]
           transition-all duration-200 ease-out;
  }
  
  .dark .btn-secondary {
    @apply bg-ink-800 text-cream-200 border-ink-700
           hover:bg-ink-700 hover:border-ink-600;
  }

  /* Ghost button */
  .btn-ghost {
    @apply px-4 py-2 rounded-xl font-medium text-ink-600
           hover:bg-ink-100 hover:text-ink-900
           active:scale-[0.98]
           transition-all duration-200 ease-out;
  }
  
  .dark .btn-ghost {
    @apply text-cream-400 hover:bg-ink-800 hover:text-cream-100;
  }

  /* Icon button */
  .btn-icon {
    @apply p-2.5 rounded-xl text-ink-500
           hover:bg-ink-100 hover:text-ink-700
           active:scale-95
           transition-all duration-200 ease-out;
  }
  
  .dark .btn-icon {
    @apply text-cream-400 hover:bg-ink-800 hover:text-cream-200;
  }
  
  /* Input fields */
  .input-field {
    @apply w-full px-4 py-3 rounded-xl
           bg-white border-2 border-cream-300
           text-ink-900 placeholder:text-ink-400
           focus:border-primary-500 focus:ring-0
           transition-colors duration-200;
  }
  
  .dark .input-field {
    @apply bg-ink-900 border-ink-700 text-cream-100 
           placeholder:text-ink-500 focus:border-primary-500;
  }

  /* Cards */
  .card {
    @apply bg-white rounded-2xl shadow-card
           transition-shadow duration-300 ease-out;
  }
  
  .card:hover {
    @apply shadow-card-hover;
  }
  
  .dark .card {
    @apply bg-ink-900 shadow-none border border-ink-800;
  }
  
  .dark .card:hover {
    @apply border-ink-700;
  }

  /* Book cards - special treatment */
  .book-card {
    @apply bg-white rounded-2xl overflow-hidden shadow-book
           transition-all duration-300 ease-out;
  }
  
  .book-card:hover {
    @apply shadow-book-hover -translate-y-1;
  }
  
  .dark .book-card {
    @apply bg-ink-900 shadow-none border border-ink-800;
  }
  
  .dark .book-card:hover {
    @apply border-ink-600 -translate-y-1;
  }

  /* Book cover styling */
  .book-cover {
    @apply relative overflow-hidden bg-gradient-to-br from-slate-200 to-slate-300;
  }
  
  .book-cover img {
    @apply w-full h-full object-cover transition-transform duration-500 ease-out;
  }
  
  .book-card:hover .book-cover img {
    @apply scale-105;
  }

  /* Status badges */
  .badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-semibold;
  }
  
  .badge-read {
    @apply bg-sage-100 text-sage-700;
  }
  
  .dark .badge-read {
    @apply bg-sage-900/50 text-sage-300;
  }
  
  .badge-reading {
    @apply bg-ocean-100 text-ocean-700;
  }
  
  .dark .badge-reading {
    @apply bg-ocean-900/50 text-ocean-300;
  }
  
  .badge-want {
    @apply bg-wine-100 text-wine-700;
  }
  
  .dark .badge-want {
    @apply bg-wine-900/50 text-wine-300;
  }
  
  .badge-owned {
    @apply bg-primary-100 text-primary-700;
  }
  
  .dark .badge-owned {
    @apply bg-primary-900/50 text-primary-300;
  }

  /* Rating stars - amber/gold for warmth */
  .star-filled {
    @apply text-amber-500 fill-amber-500;
  }
  
  .star-empty {
    @apply text-slate-300;
  }
  
  .dark .star-empty {
    @apply text-ink-600;
  }

  /* Tab navigation */
  .tab {
    @apply relative px-4 py-3 font-medium text-ink-500
           hover:text-ink-700 transition-colors duration-200;
  }
  
  .tab.active {
    @apply text-primary-700;
  }
  
  .tab.active::after {
    content: '';
    @apply absolute bottom-0 left-0 right-0 h-0.5 bg-primary-600 rounded-full;
  }
  
  .dark .tab {
    @apply text-ink-400 hover:text-cream-200;
  }
  
  .dark .tab.active {
    @apply text-primary-400;
  }
  
  .dark .tab.active::after {
    @apply bg-primary-500;
  }

  /* Modal backdrop */
  .modal-backdrop {
    @apply fixed inset-0 bg-ink-950/60 backdrop-blur-sm z-50
           flex items-center justify-center p-4;
  }
  
  .modal-content {
    @apply bg-white rounded-3xl shadow-modal max-w-md w-full max-h-[90vh] overflow-auto
           animate-scale-in;
  }
  
  .dark .modal-content {
    @apply bg-ink-900 border border-ink-700;
  }

  /* Toast notifications */
  .toast {
    @apply fixed bottom-6 left-1/2 -translate-x-1/2 z-[100]
           bg-ink-900 text-white px-5 py-3 rounded-2xl shadow-lg
           flex items-center gap-3 animate-slide-up;
  }
  
  .toast-success {
    @apply bg-sage-700;
  }
  
  .toast-error {
    @apply bg-wine-700;
  }
  
  .toast-info {
    @apply bg-ocean-700;
  }

  /* Skeleton loading */
  .skeleton {
    @apply bg-cream-300 animate-pulse rounded-lg;
  }
  
  .dark .skeleton {
    @apply bg-ink-800;
  }

  /* Progress bar */
  .progress-bar {
    @apply h-2 rounded-full bg-cream-300 overflow-hidden;
  }
  
  .progress-bar-fill {
    @apply h-full bg-gradient-to-r from-primary-500 to-primary-400 rounded-full
           transition-all duration-500 ease-out;
  }
  
  .dark .progress-bar {
    @apply bg-ink-700;
  }

  /* Dropdown menu */
  .dropdown {
    @apply absolute top-full mt-2 bg-white rounded-2xl shadow-card-hover
           border border-cream-200 overflow-hidden z-50 animate-slide-down;
  }
  
  .dropdown-item {
    @apply px-4 py-3 flex items-center gap-3 
           hover:bg-cream-100 transition-colors duration-150 cursor-pointer;
  }
  
  .dark .dropdown {
    @apply bg-ink-900 border-ink-700;
  }
  
  .dark .dropdown-item {
    @apply hover:bg-ink-800;
  }

  /* Stat card */
  .stat-card {
    @apply card p-5 flex flex-col gap-2;
  }
  
  .stat-icon {
    @apply w-10 h-10 rounded-xl flex items-center justify-center;
  }
  
  .stat-value {
    @apply text-2xl font-serif font-bold text-ink-900;
  }
  
  .dark .stat-value {
    @apply text-cream-100;
  }
  
  .stat-label {
    @apply text-sm text-ink-500;
  }
  
  .dark .stat-label {
    @apply text-ink-400;
  }

  /* Action card (quick links) */
  .action-card {
    @apply card p-5 cursor-pointer
           hover:border-primary-200 hover:bg-primary-50/30;
  }
  
  .dark .action-card:hover {
    @apply border-primary-700 bg-primary-950/30;
  }

  /* Empty state */
  .empty-state {
    @apply text-center py-16 px-8;
  }
  
  .empty-state-icon {
    @apply w-20 h-20 mx-auto mb-4 text-cream-400;
  }
  
  .dark .empty-state-icon {
    @apply text-ink-600;
  }

  /* Divider */
  .divider {
    @apply h-px bg-cream-300 my-6;
  }
  
  .dark .divider {
    @apply bg-ink-800;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-cream-200;
}

.dark ::-webkit-scrollbar-track {
  @apply bg-ink-900;
}

::-webkit-scrollbar-thumb {
  @apply bg-cream-400 rounded-full border-2 border-cream-200;
}

.dark ::-webkit-scrollbar-thumb {
  @apply bg-ink-600 border-ink-900;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-ink-400;
}

.dark ::-webkit-scrollbar-thumb:hover {
  @apply bg-ink-500;
}

/* Hide scrollbar on mobile for cleaner look */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    display: none;
  }
  
  * {
    scrollbar-width: none;
  }
}

/* Smooth page transitions */
.page-enter {
  @apply opacity-0 translate-y-4;
}

.page-enter-active {
  @apply opacity-100 translate-y-0 transition-all duration-300 ease-out;
}

/* Line clamp utilities */
.line-clamp-1 {
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
